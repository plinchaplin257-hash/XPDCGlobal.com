<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dior</title>

<style>
*{box-sizing:border-box;font-family:Arial;margin:0;padding:0;}
body{
    background:url('bg.jpg') center/cover no-repeat fixed;
    color:#fff;
}
.overlay{
    min-height:100vh;
    background:linear-gradient(rgba(0,0,0,.65),rgba(5,10,58,.9));
    display:flex;
    justify-content:center;
}
.app{
    width:100%;
    max-width:430px;
    min-height:100vh;
}
.header{
    background:#000;
    padding:10px;
    display:flex;
    align-items:center;
    justify-content:space-between;
}
.header .back{cursor:pointer;font-weight:bold;font-size:18px;}
.session{display:flex;align-items:center;gap:8px;font-weight:bold;}
.timer{background:#0A2BFF;padding:6px 14px;border-radius:20px;font-weight:bold;}
.order-row{display:flex;justify-content:space-between;align-items:center;padding:10px;}
.order-left{font-size:14px;}
.order-number{background:#0A2BFF;padding:6px 14px;border-radius:20px;font-weight:bold;margin-top:4px;display:inline-block;}
.channel-title{background:#0A2BFF;padding:6px 20px;border-radius:20px;font-weight:bold;}
.top{display:flex;gap:10px;padding:10px;}
.menu{width:40%;display:flex;flex-direction:column;gap:10px;}
.cat{background:#0A2BFF;padding:12px;border-radius:20px;text-align:center;font-weight:bold;cursor:pointer;}
.cat.active{background:gold;color:#000;}
.channel-area{width:60%;display:flex;align-items:stretch;justify-content:center;}
.channel-box{background:#0A2BFF;border-radius:20px;width:100%;display:flex;align-items:center;justify-content:center;}
.channel-box img{max-width:85%;max-height:100%;object-fit:contain;}
.image-box{margin:10px;padding:10px;border:4px solid #0A2BFF;border-radius:10px;background:rgba(0,0,0,.6);}
.image-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;}
.image-grid img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:15px;}
.bottom{padding:10px;}
.row{display:flex;gap:10px;}
.nominal-box,.total-box{background:#fff;color:#000;padding:12px;border-radius:12px;width:50%;font-weight:bold;}
.nominal-box input{border:none;width:100%;font-size:16px;font-weight:bold;}
.nominal-box input:focus{outline:none;}
.saldo{margin-top:6px;font-size:14px;}
.send-row{margin-top:10px;display:flex;justify-content:flex-end;}
.send{background:#0A2BFF;padding:10px 25px;border-radius:15px;font-weight:bold;cursor:pointer;}
@media(min-width:768px){.app{box-shadow:0 0 35px rgba(0,0,0,.8);}}
</style>
</head>
<body>
<div class="overlay">
<div class="app">

<div class="header">
    <div class="back" onclick="location.href='home.html'">â—€</div>
    <div class="session">
        <span>Waktu Sesi :</span>
        <span class="timer" id="timer">05:00</span>
    </div>
</div>

<div class="order-row">
    <div class="order-left">
        <div>No. Pesanan :</div>
        <div class="order-number" id="orderNumber"></div>
    </div>
    <div class="channel-title">Dior</div>
</div>

<div class="top">
    <div class="menu">
        <div class="cat">Produk Unggulan</div>
        <div class="cat">Tunggal / Bagian</div>
        <div class="cat">Ganda / Bagian</div>
        <div class="cat">Produk Bekas</div>
    </div>
    <div class="channel-area">
        <div class="channel-box">
            <img src="dior.png" alt="Dior">
        </div>
    </div>
</div>

<div class="image-box">
    <div class="image-grid">
        <img src="dior-1.jpg"><img src="dior-2.jpg"><img src="dior-3.jpg"><img src="dior-4.jpg">
        <img src="dior-5.jpg"><img src="dior-6.jpg"><img src="dior-7.jpg"><img src="dior-8.jpg">
        <img src="dior-9.jpg"><img src="dior-10.jpg"><img src="dior-11.jpg"><img src="dior-12.jpg">
        <img src="dior-13.jpg"><img src="dior-14.jpg"><img src="dior-15.jpg"><img src="dior-16.jpg">
    </div>
</div>

<div class="bottom">
    <div class="row">
        <div class="nominal-box">
            <input type="number" id="nominal" placeholder="Nominal">
        </div>
        <div class="total-box" id="total">Total Rp.0</div>
    </div>
    <div class="saldo">Saldo : Rp.1.000.000</div>
    <div class="send-row">
        <div class="send" id="sendBtn">Kirim</div>
    </div>
</div>

</div>
</div>

<script>
let time=300;
setInterval(()=>{
    time--;
    let m=Math.floor(time/60),s=time%60;
    timer.innerText=`${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
    if(time<=0) location.reload();
},1000);

const today=new Date().toISOString().slice(0,10).replace(/-/g,"");
let order=JSON.parse(localStorage.getItem("order_dior"))||{};
if(order.date!==today) order={date:today,count:1};
else order.count++;
localStorage.setItem("order_dior",JSON.stringify(order));
orderNumber.innerText=today+String(order.count).padStart(4,"0");

document.querySelectorAll(".cat").forEach(c=>c.onclick=()=>c.classList.toggle("active"));

// ===== SIMPAN TRANSAKSI =====
document.getElementById("sendBtn").onclick = function(){
    const nominalInput = document.getElementById("nominal");
    const orderNumberEl = document.getElementById("orderNumber");
    const brandName = "DIOR";

    let transactions = JSON.parse(localStorage.getItem("transactions")) || [];
    transactions.push({
        brand: brandName,
        orderNumber: orderNumberEl.innerText,
        nominal: parseInt(nominalInput.value) || 0,
        timestamp: Date.now()
    });
    localStorage.setItem("transactions", JSON.stringify(transactions));
    alert("Transaksi tersimpan!");
};
</script>
</body>
</html>
